Вопросы по резервному копированию PostgreSQL
1. Какая утилита используется для логического резервного копирования одной базы данных?
a) pg_dump
b) pg_dumpall
c) pg_basebackup
d) pg_backup
Правильный ответ: a

2. Какая утилита создает физическую резервную копию всего кластера?
a) pg_basebackup
b) pg_dump
c) pg_dumpall
d) pg_physicalbackup
Правильный ответ: a

3. Какой формат pg_dump позволяет выборочное восстановление объектов?
a) custom
b) plain
c) tar
d) directory
Правильный ответ: a

4. Какой параметр pg_basebackup создает резервную копию в виде готовой standby реплики?
a) -R
b) -S
c) -X
d) -P
Правильный ответ: a

5. Какая утилита используется для восстановления логических резервных копий в custom формате?
a) pg_restore
b) psql
c) pg_recover
d) restore_db
Правильный ответ: a

6. Какой параметр pg_dump включает сжатие выходных данных?
a) -Z
b) -C
c) -F
d) -J
Правильный ответ: a

7. Что необходимо для создания физической резервной копии с помощью pg_basebackup?
a) Настроить max_wal_senders
b) Включить archive_mode
c) Настроить wal_level = minimal
d) Остановить сервер
Правильный ответ: a

8. Какой формат вывода pg_dump создает SQL-скрипт?
a) plain
b) custom
c) directory
d) tar
Правильный ответ: a

9. Какой параметр pg_dump позволяет выполнить резервное копирование только схемы?
a) --schema-only
b) --data-only
c) --structure-only
d) --metadata-only
Правильный ответ: a

10. Какой параметр pg_basebackup задает целевой каталог для резервной копии?
a) -D
b) -F
c) -T
d) -O
Правильный ответ: a

11. Как выполнить резервное копирование всех баз данных кластера?
a) pg_dumpall
b) pg_dump с опцией --all
c) pg_basebackup с опцией --all-databases
d) Несколько запусков pg_dump
Правильный ответ: a

12. Какой параметр pg_restore позволяет восстанавливать объекты в несколько потоков?
a) -j
b) -t
c) -P
d) -C
Правильный ответ: a

13. Что такое PITR (Point-In-Time Recovery) в PostgreSQL?
a) Восстановление на определенный момент времени
b) Восстановление только определенных таблиц
c) Постепенное восстановление данных
d) Восстановление после сбоя питания
Правильный ответ: a

14. Какой параметр pg_dump позволяет исключить определенную таблицу?
a) --exclude-table
b) --skip-table
c) --ignore-table
d) --without-table
Правильный ответ: a

15. Как создать резервную копию с помощью pg_basebackup в формате tar?
a) -F tar
b) --format=tar
c) -T
d) --tar-format
Правильный ответ: b

16. Какой параметр pg_restore показывает прогресс выполнения?
a) -v
b) -P
c) --progress
d) --status
Правильный ответ: c

17. Что необходимо для PITR?
a) Базовая резервная копия + архив WAL
b) Только архив WAL
c) Только базовая резервная копия
d) Логическая резервная копия
Правильный ответ: a

18. Какой параметр pg_dump включает в резервную копию команды очистки объектов?
a) --clean
b) --drop
c) --purge
d) --remove
Правильный ответ: a

19. Как восстановить базу данных из plain-формата резервной копии?
a) psql -f backup_file
b) pg_restore -d database_name backup_file
c) restore_db backup_file
d) pg_recover backup_file
Правильный ответ: a

20. Какой параметр pg_basebackup включает потоковую передачу WAL во время резервного копирования?
a) -X stream
b) --wal-stream
c) -W
d) --include-wal
Правильный ответ: a

21. Как выполнить резервное копирование только определенной схемы?
a) pg_dump --schema=schema_name
b) pg_dump -n schema_name
c) pg_dump --only-schema=schema_name
d) Оба варианта a и b верны
Правильный ответ: d

22. Какой параметр pg_restore создает скрипт восстановления вместо непосредственного восстановления?
a) --file
b) --script
c) --create-script
d) --output
Правильный ответ: b

23. Что такое базовая резервная копия в контексте PITR?
a) Физическая копия данных на определенный момент времени
b) Первая резервная копия в серии
c) Резервная копия системных каталогов
d) Минимальная резервная копия
Правильный ответ: a

24. Какой параметр pg_dump включает резервное копирование больших объектов?
a) --blobs
b) --large-objects
c) --lo
d) --binary
Правильный ответ: a

25. Как настроить автоматическое архивирование WAL для PITR?
a) archive_mode = on и archive_command
b) wal_archiving = on
c) enable_archive = true
d) log_archive = on
Правильный ответ: a

26. Какой параметр pg_dump позволяет выполнить резервное копирование в несколько потоков?
a) -j
b) -t
c) -P
d) -C
Правильный ответ: a

27. Как восстановить базу данных до определенного момента времени?
a) Создать recovery.conf с recovery_target_time
b) Использовать pg_restore с параметром --time
c) Использовать psql с параметром --recovery-time
d) Восстановить и затем выполнить ROLLBACK TO TIME
Правильный ответ: a

28. Какой параметр pg_dump включает резервное копирование только данных?
a) --data-only
b) --no-schema
c) --only-data
d) --exclude-schema
Правильный ответ: a

29. Как проверить целостность резервной копии без восстановления?
a) pg_restore --list
b) pg_verifybackup
c) pg_dump --verify
d) pg_checkbackup
Правильный ответ: b

30. Какой параметр pg_basebackup показывает прогресс выполнения?
a) -P
b) -v
c) --progress
d) --status
Правильный ответ: a

31. Как выполнить резервное копирование с исключением определенных таблиц?
a) --exclude-table-data
b) --skip-tables
c) --ignore-tables
d) --without-tables
Правильный ответ: a

32. Что такое recovery.conf в контексте PITR?
a) Файл с параметрами восстановления
b) Файл конфигурации репликации
c) Файл настройки восстановления после сбоя
d) Файл параметров резервного копирования
Правильный ответ: a

33. Какой параметр pg_restore позволяет восстановить только структуру базы данных?
a) --schema-only
b) --structure-only
c) --no-data
d) --metadata-only
Правильный ответ: a

34. Как создать резервную копию с помощью утилит операционной системы?
a) Остановить PostgreSQL и скопировать PGDATA
b) Использовать rsync на работающем сервере
c) Использовать tar на каталоге PGDATA
d) Оба варианта a и c верны
Правильный ответ: d

35. Какой параметр pg_dump включает информацию о владельцах объектов?
a) --owner
b) --with-owner
c) --include-owner
d) --no-owner для исключения
Правильный ответ: a

36. Как восстановить отдельную таблицу из резервной копии custom формата?
a) pg_restore -t table_name
b) pg_restore --table=table_name
c) pg_restore --only-table=table_name
d) Оба варианта a и b верны
Правильный ответ: d

37. Что такое непрерывное архивирование в PostgreSQL?
a) Постоянное сохранение WAL-файлов для PITR
b) Регулярное логическое резервное копирование
c) Автоматическое копирование данных на другой сервер
d) Постоянная репликация данных
Правильный ответ: a

38. Какой параметр pg_dump включает привилегии в резервную копию?
a) --privileges
b) --with-privileges
c) --include-privileges
d) --grants
Правильный ответ: a

39. Как выполнить резервное копирование с использованием слотов репликации?
a) pg_basebackup -S slot_name
b) pg_dump --slot=slot_name
c) pg_basebackup --replication-slot=slot_name
d) pg_dump -R slot_name
Правильный ответ: c

40. Какой параметр pg_restore позволяет продолжить восстановление после ошибок?
a) --ignore-errors
b) --continue-on-error
c) --skip-errors
d) --force
Правильный ответ: b

41. Что такое WAL-архивирование?
a) Сохранение завершенных WAL-сегментов для восстановления
b) Архивирование устаревших WAL-файлов
c) Сжатие WAL-файлов для экономии места
d) Резервное копирование только WAL-файлов
Правильный ответ: a

42. Какой параметр pg_dump создает резервную копию с командами создания базы данных?
a) --create
b) --include-create
c) --with-create
d) --database-create
Правильный ответ: a

43. Как настроить восстановление до определенной LSN (Log Sequence Number)?
a) recovery_target_lsn
b) recovery_target_name
c) recovery_target_time
d) recovery_target_xid
Правильный ответ: a

44. Какой параметр pg_basebackup устанавливает максимальную скорость передачи?
a) --max-rate
b) --limit-rate
c) --throttle
d) --speed-limit
Правильный ответ: a

45. Как выполнить резервное копирование только определенных таблиц?
a) pg_dump -t table_name
b) pg_dump --table=table_name
c) pg_dump --only-table=table_name
d) Оба варианта a и b верны
Правильный ответ: d

46. Что такое файл backup_label в физической резервной копии?
a) Файл с информацией о резервной копии
b) Метка для идентификации резервных копий
c) Файл с меткой времени резервного копирования
d) Файл с информацией о контрольной точке
Правильный ответ: a

47. Какой параметр pg_restore позволяет выполнить восстановление в другую базу данных?
a) -d
b) -f
c) -l
d) -v
Правильный ответ: a

48. Как включить ведение лога при восстановлении?
a) pg_restore -v
b) pg_restore --verbose
c) psql -v
d) Оба варианта a и b верны
Правильный ответ: d

49. Что такое tablespace mapping при восстановлении?
a) Перенаправление табличных пространств в новые расположения
b) Карта табличных пространств в резервной копии
c) Отображение табличных пространств между серверами
d) Изменение путей табличных пространств при восстановлении
Правильный ответ: a

50. Какой параметр pg_basebackup проверяет целостность резервной копии?
a) --verify
b) --check
c) --validate
d) Целостность проверяется автоматически
Правильный ответ: d